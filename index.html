<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" href="./style.css">
		<link rel="stylesheet" href="./speechstyle.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js" integrity="sha512-yNJzAsg5JyP91u+sLHlUDULMBd3hmEiVkYeeN1cQBKaLZ7EyT6oH2u5THNIRM2Fu6VKcZJv+F/QAp1h/qzy9Ow==" crossorigin="anonymous"></script>
		<script type="module" src="scene.js" ></script>
		<!-- <script type="text/javascript" src="./js/BokehPass.js" ></script> -->
	</head>
	<body>

		<section id="loading-screen">
			<div id="loader"></div>
		</section>


		<canvas id="c"></canvas>

		<button class="button mic">
			<img id="mic-icon" src="./img/mic-on.svg">
		</button>

		<!-- <div class="textoverlay" id="intro"></div> -->

		<!-- <div id="debug">
		  <div>x:<span id="x"></span></div>
		  <div>y:<span id="y"></span></div>
		  <div>z:<span id="z"></span></div>
		</div> -->

<!-- 		<script src="js/three.js"></script> -->
		<!-- <script src="http://cdnjs.cloudflare.com/ajax/libs/three.js/r58/three.min.js"></script> -->
		<script type="text/javascript">
			//const xElem = document.querySelector('#hilde');
			//xElem.textContent = "Hallo, ik ben Hilde"

			var i = 0;
			var txt = 'Hallo, welkom bij de projectpagina van pwo space.'; /* The text */
			var txtbot = 'Klik op de microfoon rechtsonder om de client te verwelkomen.';
			var speed = 80; /* The speed/duration of the effect in milliseconds */

			function typeWriter() {
			  if (i < txt.length) {
			    document.getElementById("intro").innerHTML += txt.charAt(i);
			    i++;
			    setTimeout(typeWriter, speed);
			  }
			  else {
			  	i = 0;
			  	document.body.insertAdjacentHTML('beforeend', '<div class="parent bottom"><div class="textoverlay" id="instructions"></div></div>');
			  	setTimeout(bottomWriter, 1000); 
			  }
			}

			function bottomWriter() {
			  if (i < txtbot.length) {
			    document.getElementById("instructions").innerHTML += txtbot.charAt(i);
			    i++;
			    setTimeout(bottomWriter, speed);
			  }
			}

			const loadingScreen = document.getElementById('loading-screen');
			
			// optional: remove loader from DOM via event listener
			loadingScreen.addEventListener('transitionend', () => {
				document.body.insertAdjacentHTML('beforeend', '<div class="parent"><div class="textoverlay top" id="intro"></div></div>');
				//let overlayinto = '<div class="textoverlay" id="intro"></div>'
				//document.body.append(overlayinto);
				//let myintro = document.createElement("div");
				//myintro.id = "intro";
				//myintro.clasName = "textoverlay"
			  	typeWriter();
			});
		</script>
	</body>
	<script type="text/javascript" src="speech.js" ></script>
</html>